{% extends 'date_picker.html' %}

{% load util_tags %}
{% block title %}Edit Account{% endblock %}
{% block content %}
<div class="row-fluid">
  <div class="span12"></div>
  <div class="span12"></div>
  <div class="span12"></div>
</div>
{% if edit_account_form.non_field_errors or edit_account_form.errors.account_exists or edit_account_form.errors.check_email %}
<div class="row-fluid">
  <div class="span6 offset2 alert alert-error">
    {% for error in edit_account_form.errors.account_exists %}
    {{ error }}<br />
    {% endfor %}
    {% for error in edit_account_form.errors.check_email %}
    {{ error }}<br />
    {% endfor %}
    {{ edit_account_form.non_field_errors.as_text }}
  </div>
</div>
{% endif %}
<div class="row-fluid">
<form class="form-horizontal" method="post" action="{% url 'accounts:edit' %}">{% csrf_token %}
  {% as_controls 'birthday' 'Birthday:' edit_account_form.birthday edit_account_form.birthday.errors.as_text %}
  {% as_dropdown 'gender' genders edit_account_form.gender.errors.as_text "selectItem(this, 'gender')" %}
  {% as_dropdown 'units' units edit_account_form.units.errors.as_text "selectItem(this, 'units')" %}
  {% as_controls 'height' 'Height:' edit_account_form.height edit_account_form.height.errors.as_text %}
  {% as_dropdown 'multipliers' multipliers edit_account_form.activity_multiplier.errors.as_text "selectItem(this, 'multipliers')" %}
  {% as_submit 'Update'%}
</form>
</div>
<script type="text/javascript">
  function selectItem(f, name) {
    id = f.getAttribute('id');
    html = $('#' + id).html();
    $('#' + name + '_button').html(html + " <span class=\"caret\"></span>");
    $('input[name=' + name + ']').val(val);
  }
  
  $(function() { 
    $('#id_birthday').datepicker();
  });

</script>
{% endblock %}
